0. Product Brief

문제:
- 공연 정보가 채널별로 흩어져 있고 신뢰도가 낮아 팬들이 탐색·응모·체크인 과정을 반복적으로 헤맨다.
- 초대이벤트를 운영하는 제작사/파트너는 응모, 추첨, DM, 체크인 등을 수작업으로 처리해 비용과 시간이 과도하게 든다.

해결:
- 공연 정보를 구조화하고 커뮤니티 기반 초대 이벤트를 한 곳에서 운영·참여할 수 있는 플랫폼 제공.
- 응모/추천/추첨/알림/체크인까지의 워크플로를 자동화하고 멤버십, 광고, 어필리에이트 수익 모델을 동시에 연동한다.

핵심 가설 (R1 범위):
- 스튜디오 예약·좌석 예매·오프라인 공간 예약은 배제하고, 공연 정보/커뮤니티/이벤트 운영과 멤버십·광고 결제 경험에 집중한다.

1. Personas

P1. 로컬 씬 탐험가 (Explorer)
- 프로필: 24세 직장인 '지현', 월 1~2회 로컬 공연 탐험, SNS·뉴스레터로 정보 탐색.
- 목표/동기: 믿을만한 큐레이션으로 새로운 공연을 경험하고 친구와 함께 즐길 기회를 찾는다.
- Pain & Needs: 파편화된 정보, 불투명한 추첨 과정, 번거로운 응모/결과 확인. 한 번에 응모하고 결과/체크인을 쉽게 확인해야 한다.
- 주요 행동: 공연 카드 탐색 → 이벤트 상세 확인 → Free 멤버십 가입 → 응모 → 추천 코드 공유 → DM/SMS 당첨 확인 → 체크인 미션 완료 및 후기 공유.
- 성공 정의: 원하는 공연 당첨 경험과 친구와의 동행 성공, 추첨 결과까지 24시간 내 확인.
- 메시지 톤 & 가치 제안: "믿고 골라가는 로컬 공연", "친구와 함께 즐기는 특별 초대".

P2. 앰플리파이어 (Amplifier)
- 프로필: 28세 공연 커뮤니티 운영자 '도현', SNS 팔로워 8천 명, 주 3회 공연 콘텐츠 제작.
- 목표/동기: 팔로워에게 혜택을 제공하며 영향력을 키운다. 조기 오픈 정보를 확보한다.
- Pain & Needs: 추천 리워드의 투명성 부족, 성과 측정 어려움, 공유 자산 부족. 추천 랭킹과 즉시 공유 가능한 소재가 필요하다.
- 주요 행동: 트렌드 공연 팔로우 → 상위 이벤트 알림 → 추천 코드 생성·공유 → 추천 성과 대시보드 확인 → Pro 멤버십 업그레이드 → 추첨 결과 콘텐츠화.
- 성공 정의: 추천으로 가입·응모 50건 이상 견인, 월 1회 Pro 멤버십 비용 이상의 리워드 확보.
- 메시지 톤 & 가치 제안: "팬들에게 먼저 열어주는 초대장", "추천만으로도 혜택이 쌓입니다".

P3. B2B 파트너 (제작사/마케터)
- 프로필: 35세 인디 레이블 마케터 '서윤', 월 4회 공연 런칭, KPI는 예매 전환과 콘텐츠 확산.
- 목표/동기: 최소 비용으로 신규 관객을 유입하고, 캠페인 성과를 빠르게 보고한다.
- Pain & Needs: 응모 현황/CTR 데이터를 한곳에서 보지 못한다. 광고·어필리에이트 집행이 분산돼 효율 확인이 어렵다.
- 주요 행동: 관리자 계정 생성 → 공연 업로드 → 이벤트 규칙 설정(응모 조건/가중치) → 광고 슬롯 집행 → 리포트 다운로드 → 어필리에이트 성과 공유.
- 성공 정의: 이벤트 응모 300건, 예매 클릭률 30% 달성, 운영 시간 40% 절감.
- 메시지 톤 & 가치 제안: "공연 한 장으로도 도달과 전환을 동시에", "데이터로 증명되는 팬 동원력".

P4. 운영 매니저 (Internal Ops)
- 프로필: 31세 운영 매니저 '민재', 일평균 이벤트 6건 관리, CS·부정 응모·추첨 담당.
- 목표/동기: 추첨/체크인/알림을 자동화하여 운영 시간을 절약하고 분쟁을 줄인다.
- Pain & Needs: 부정 응모 탐지, 당첨자 알림 반복 발송, 체크인 노쇼 처리 등 운영 리소스 과다. 감사 가능한 로그와 일괄 처리 도구가 필요하다.
- 주요 행동: 블랙리스트 관리 → 추첨 로그 모니터링 → DM/SMS 일괄 발송 → 노쇼 처리 → CSV 리포트 배포.
- 성공 정의: R1 기준으로 이벤트당 운영 시간 30분 이하, 부정 응모 재발 비율 1% 미만.
- 메시지 톤 & 가치 제안: "원클릭 추첨·발송으로 운영 시간 절약", "로그로 부정·분쟁 걱정 끝".

2. 목표 & KPI (런칭 6개월)
- MAU 3,000 / 총 가입 회원 1,500 / 이벤트 응모 2,000건
- 공연 상세 → 예매 링크 클릭률 30%
- Free → 유료 멤버십 전환율 2~3%
- 광고 슬롯 CTR 0.5%, 홈 hero 슬롯 주간 판매 2건
- 이벤트 운영 프로세스(추첨~알림~체크인) 처리 시간 50% 단축

3. 범위

In-scope
- 계정/프로필 (이메일·소셜 로그인, IG 핸들 수집 및 블랙리스트 검증, 혜택 개인화)
- 멤버십 결제(Free/Plus/Pro), 혜택 즉시 반영
- 공연 DB (목록, 상세, JSON-LD 스키마), 커뮤니티 이벤트 응모/추천/추첨/알림/체크인
- 추천 랭킹/배지, 광고 슬롯, 어필리에이트 링크 트래킹
- 운영자 대시보드(이벤트·멤버십·광고·어필리에이트 분석)

Out-of-scope (R1)
- 스튜디오/공연장 예약, 좌석 발권, 커뮤니티 게시판 자유 글
- 오프라인 체크인용 하드웨어, IG DM 자동 발송(템플릿만 제공)

4. 핵심 이용 여정 (Happy Path)
1) 사용자는 공연 리스트에서 관심 공연을 발견
2) 로그인 또는 회원가입(Free 기본)
3) 이벤트 상세에서 응모 조건을 확인하고 응모 (멤버십에 따라 추가 응모 가능)
4) 개인 추천 코드를 복사하여 친구와 공유
5) 추첨 마감 후 가중치 기반 자동 추첨, 결과가 마이페이지/알림으로 반영
6) 당첨자는 DM/메일/SMS로 안내를 받고 세부 정보 확인, 웨이팅은 대기열로 이동
7) 현장 체크인 시 큐알 또는 코드 인증, 미션 수행 시 포인트/배지 지급
8) 관람 후 후기 미션 제출, 추천 랭킹에 반영

5. 기능 요구사항

F1. 계정·멤버십
- 이메일·소셜(카카오/애플/구글) 로그인, IG 핸들 수집 및 중복/블랙리스트 검증
- 멤버십 티어: Free / Plus / Pro (월 구독), 결제 성공 시 혜택 즉시 반영
- 마이페이지: 응모 내역, 당첨/대기 현황, 추천 실적, 멤버십 관리, 알림 설정
- 운영자: 멤버십 티어 강제 조정, 일시 중지

F2. 공연 DB & 이벤트
- 공연 목록: 태그, 지역, 일정, 예매 링크, 추천 배지 표기
- 공연 상세: 소개, 아티스트, 위치 맵, SEO 메타(JSON-LD Event, OG 태그)
- 이벤트 상세: 혜택, 응모 기간, 추첨 인원, 참여 방법, FAQ, 규칙 노출
- 이벤트 상태별 뱃지(오픈 예정/응모 중/추첨 중/마감/체크인 진행)

F3. 응모 & 추천
- 응모 제한: Free 1건 / Plus 2건 / Pro 3건(이벤트당)
- 추천 코드: 사용자별 고유 코드, 추천 시 가중치 +0.5 (Pro +1)
- 부정 방지: 디바이스/쿠키/전화번호 기반 중복 차단, 블랙리스트 즉시 적용
- 추천 랭킹 위젯, 공유용 이미지/링크 자동 생성

F4. 추첨 & 대기열
- 가중치 로직: 기본 1 + 추천 0.5 + 멤버십 보너스(Plus +0.5, Pro +1)
- 추첨 실행: 예약 시간에 자동 실행, 수동 재실행 가능, 로그 저장
- 대기열 관리: 노쇼·미회신 시 D+2 자동 취소, 대기자 승급 알림 발송
- 감사 로그: 추첨 결과, 운영자 재실행, 당첨자 변경 기록

F5. 알림
- 채널: 이메일(Resend) / SMS(Toast 또는 Naver Cloud) / IG DM 템플릿
- 알림 관리: 마이페이지에서 채널별 구독 설정, Resend 기반 재발송 버튼
- 시스템 알림: 응모 확인, 추첨 결과, 대기자 승급, 체크인 안내, 미션 완료

F6. 광고 & 어필리에이트
- 광고 슬롯: home_hero, shows_top, event_sidebar (기간/가격 설정, 자동 만료)
- 성과 지표: 노출, 클릭, CTR, CPM, CPC, 리포트 PDF/CSV 다운로드
- 어필리에이트: 예매 버튼 클릭 시 UTM/리퍼럴 파라미터 자동 부여, 파트너별 전환 리포트

F7. 어드민
- 공연/이벤트 CRUD, 멤버십 관리, 추첨 실행, 대기열 승급, 블랙리스트 관리, 알림 발송
- 운영 리포트: 응모/추천/추첨/체크인 퍼널, 멤버십 매출, 광고 실적, 어필리에이트 전환
- 감사 추적: 관리자 활동 로그 다운로드

6. 비기능 요구사항
- 성능: 모바일 4G 기준 LCP < 2.5s, Next.js SSR/ISR 사용, 이미지 AVIF/WebP 변환
- 가용성: 이벤트 종료 24시간 전까지 장애 없이 응모 성공률 99%
- 보안/개인정보: 최소 수집(이메일, IG 핸들, 전화번호), 이벤트 종료 후 90일 저장, PIPA 준수, HTTPS 전송
- 접근성: 명도 대비 준수, 키보드 내비게이션, 스크린리더 ARIA 라벨
- 로컬라이제이션: 기본 Locale ko-KR, Asia/Seoul 타임존

7. 수익화 전략 (초안)
- 멤버십: Free / Plus(₩9,900) / Pro(₩19,900) 월 구독, 혜택 차등(응모 수, 추천 가중치, 조기 오픈)
- 광고: 슬롯별 패키지(주간/월간), CTR 리포트 제공, 브랜드 가이드라인 포함
- 어필리에이트: 클릭당 또는 전환당 수수료(파트너 계약에 따름), 월간 정산 리포트
- 데이터 리포트: 이벤트 성과 인사이트 리포트 PDF 유료 구독(향후)

8. 성공 지표 & Analytics 이벤트
- Tracking: page_view, event_view, apply_open, apply_submit, referral_share, referred_signup, draw_run, winner_announced, waitlist_promote, check_in, membership_upgrade, ad_impression, ad_click, affiliate_click, report_download
- 피드백 루프: GA4 + Supabase Log + 운영 대시보드 연동

9. 수락 기준 (Acceptance Criteria)

A. 응모/추천
- 사용자는 로그인 후 이벤트 상세에서 조건을 확인하고 응모할 수 있다.
- 멤버십 티어에 따라 응모 가능한 횟수가 UI에 명확히 표시되고 초과 시 안내 메시지를 본다.
- 추천 코드를 공유하면 추천인/피추천인 모두 마이페이지에서 기록을 확인할 수 있다.

B. 추첨/대기열
- 추첨은 예약된 시간에 자동 실행되고, 성공/실패 로그가 어드민에 남는다.
- 당첨·대기 결과가 사용자 마이페이지와 알림 채널에 동기화된다.
- 미회신 당첨자는 D+2에 자동 취소되고 대기자에게 승급 알림이 전송된다.

C. 알림
- 응모, 추첨 결과, 대기자 승급, 체크인 안내 알림이 이메일/SMS 중 사용자가 선택한 채널로 발송된다.
- 운영자는 어드민에서 특정 사용자에게 알림을 재발송할 수 있다.

D. 광고/어필리에이트
- 광고 슬롯을 생성하면 시작/종료일에 따라 자동 노출/종료된다.
- 광고주가 다운로드한 CSV 리포트에는 노출·클릭·CTR·비용 데이터가 포함된다.
- 어필리에이트 예매 버튼은 파트너별 UTM 파라미터를 포함하고 전환 리포트를 제공한다.

E. 개인정보/보안
- 가입 시 필수 항목(이메일, IG 핸들, 휴대폰)만 수집되며, 개인정보 보관 정책이 표시된다.
- 취소 또는 만료된 이벤트 데이터는 90일 이후 자동 삭제된다.
- 관리자 활동은 역할 기반 접근 제어와 감사 로그로 추적된다.

10. 정보 구조 & 화면
- 홈: 이번 주 추천 공연 6개, 진행 중 이벤트 리스트, Top Referrer 위젯, 광고 배너
- 공연 상세: 공연 소개, 출연진, 위치 지도, 예매/응모 버튼, SEO 메타
- 이벤트 상세: 혜택·규칙·가중치, 응모 CTA, 추천 코드 공유, 타임라인, FAQ
- 마이페이지: 응모/당첨/대기 현황, 추천 실적, 멤버십 관리, 알림 설정
- 어드민: 공연/이벤트 CRUD, 추첨 실행, 블랙리스트, 알림 발송, 리포트 다운로드

11. 기술 스택 & 인터페이스
- FE: Next.js(App Router), TypeScript, Tailwind, shadcn/ui, Vercel 배포, GA4/Meta Pixel
- BE/DB: Supabase(Postgres/Auth/Storage), Edge Functions(추첨·웹훅), Supabase Realtime
- 결제: Toss Payments 또는 PortOne 정기결제, Stripe 국제 결제 옵션
- 알림: Resend(메일), Naver Cloud/Toast(SMS), IG DM 템플릿 수동 발송
- API(예시):
  - POST /api/applications — 이벤트 응모 생성
  - POST /api/draw/:id/run — 추첨 실행
  - POST /api/waitlist/:id/promote — 대기자 승급 처리
  - POST /api/membership/checkout — 멤버십 결제 세션 생성
  - GET /api/rankings — 추천 랭킹 조회

12. 릴리즈 플랜
- R1 (2주): 계정/공연/이벤트 응모·추첨·알림(이메일), 마이페이지, 어드민, 블랙리스트, 기본 분석
- R2 (2~3주): 멤버십 결제, 추천 랭킹, SMS 알림, 광고 슬롯, 어필리에이트 트래킹
- R3 (2~3주): 운영 고도화(자동 추첨 스케줄러, PDF 리포트), IG DM 반자동 지원, 데이터 리포트

13. 리스크 & 가설 검증
- IG DM 자동화 제약: 공식 API 한계로 SMS/이메일 중심, DM 템플릿 제공
- 부정 응모: 경고/제재 정책 수립, 반복 위반 계정 차단
- 개인정보: PIPA·정보통신망법 준수, 최소 수집·보관 기간 명시
- 멤버십 전환 가설: Pro 혜택(조기 오픈, 추가 가중치)의 실제 전환 기여도 측정 필요

14. 오픈 이슈 (결정 필요)
- 멤버십 혜택 최종안(추가 응모/가중치/컨시어지 등)
- 광고 가격 정책(주간/월간, 홈 vs 서브 페이지 차등)
- 추천 리워드 형태(포인트, 굿즈, 티켓 교환) 및 재원 배분
- 현장 체크인 방식(QR vs 코드 vs 운영자 승인)과 장비 지원 범위
